; CareLink Mesh System - PlatformIO Configuration v0.2
; Progetto per board HW-364A (ESP8266 + OLED)

[platformio]
default_envs = patient_node
description = IoT Hospital Mesh Network with Clinical Edge Analytics

[env]
; --- Impostazioni comuni per tutti i nodi ---
platform = espressif8266
board = nodemcuv2
framework = arduino
monitor_speed = 115200
upload_speed = 921600

; Inclusione automatica delle cartelle include e lib locali
build_flags = 
    -I include
    -D MONITOR_SPEED=${env.monitor_speed}

; Librerie esterne comuni
lib_deps =
    adafruit/Adafruit SSD1306 @ ^2.5.7
    adafruit/Adafruit GFX Library @ ^1.11.5
    adafruit/Adafruit BusIO @ ^1.14.1

[env:patient_node]
; --- Nodo Paziente (Board HW-364A) ---
build_src_filter = +<patient_node/>
build_flags = 
    ${env.build_flags}
    -D DEVICE_PATIENT

; Librerie specifiche per sensori medici
lib_deps = 
    ${env.lib_deps}
    sparkfun/SparkFun MAX3010x Pulse and Proximity Sensor Library @ ^1.1.2
    ; La libreria MaximAlgorithm in /lib verr√† rilevata automaticamente

[env:nurse_node]
; --- Nodo Infermiere ---
build_src_filter = +<nurse_node/>
build_flags = 
    ${env.build_flags}
    -D DEVICE_NURSE
